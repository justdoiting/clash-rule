mixed-port: 7890
tcp-concurrent: true
allow-lan: true
ipv6: true
log-level: info
unified-delay: true
global-client-fingerprint: chrome
find-process-mode: strict

dns:
    enable: true
    listen: 0.0.0.0:1053
    ipv6: true
    enhanced-mode: fake-ip
    fake-ip-range: 198.18.0.1/16
    fake-ip-filter: ["+.lan", "+.local", "+.direct", "+.msftconnecttest.com", "+.msftncsi.com", "geosite:cn"]
    nameserver: ["119.29.29.29", "180.76.76.76", "180.184.1.1"]
    fallback: [1.1.1.1, 64.6.64.6, 94.140.14.140]

geodata-mode: true
geox-url:
  geosite: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo/geosite-all.dat"
  geoip: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo/geoip.dat"
  mmdb: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo/Country.mmdb"
  asn: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo/Country-ASN.mmdb"

sniffer: { enable: true, sniff: { HTTP: { ports: [80], override-destination: true }, TLS: { ports: [443, 8443] }, QUIC: { ports: [443, 8443] } } }

tun:
  enable: true
  stack: mixed
  device: utun
  endpoint-independent-nat: true
  auto-route: false
  auto-detect-interface: false
  auto-redirect: false
  strict-route: false

profile:
  store-selected: true
  store-fake-ip: true

#å¤–éƒ¨èŠ‚ç‚¹
proxy-providers:

  è‡ªå»ºèŠ‚ç‚¹:
    type: file
    health-check:
      enable: true
      url: https://i.ytimg.com/generate_204
      interval: 300
    path: ./jiedian.yaml
  
  å…¬ç›ŠèŠ‚ç‚¹:
    type: file
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    path: ./freejiedian.yaml

atm: &atm  
  interval: 300
  url: https://i.ytimg.com/generate_204
  max-failed-times: 3
  
zhixuan: &zhixuan 
   type: smart
   strategy: sticky-sessions
   include-all: true
   interval: 300

#ç­–ç•¥ç»„
proxy-groups:

    - name: æ‰‹åŠ¨é€‰æ‹©
      <<: *atm
      type: select
      include-all: true
      icon: https://github.com/clash-verge-rev/clash-verge-rev/raw/main/src-tauri/icons/icon.png

    - name: æ¼ç½‘ä¹‹é±¼
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://img.icons8.com/?size=144&id=9Mz1BhM4ui54&format=png&color=000000

    - name: å¤–ç½‘é€‰æ‹©
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

    - name: YouTube
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

    - name: ç”µæŠ¥æ¶ˆæ¯
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

    - name: æŽ¨ç‰¹æ¶ˆæ¯
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png

    - name: å“”å“©å“”å“©
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/bilibili_3.png

    - name: å¾®è½¯æœåŠ¡&GitHub
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png

    - name: IPå½’å±žåœ°ä¼ªè£…
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://img.icons8.com/?size=144&id=9A9UJY1V3Zw9&format=png&color=000000

    - name: Chat-GPT
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/OpenAI.png

    - name: TikTok
      <<: *atm
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰", "é“¾å¼ä»£ç†", "DIRECT"]
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/TikTok.png

#èŠ‚ç‚¹åˆ†åŒº
    - name: é¦™æ¸¯æ™ºé€‰
      <<: *zhixuan
      filter: (?i)ðŸ‡­ðŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

    - name: ç¾Žå›½æ™ºé€‰
      <<: *zhixuan
      filter: (?i)ðŸ‡ºðŸ‡¸|ç¾Žå›½|æ´›æ‰çŸ¶|åœ£ä½•å¡ž|(\b(US|United States)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

    - name: æ–°åŠ å¡æ™ºé€‰
      <<: *zhixuan
      filter: (?i)ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

    - name: æ—¥æœ¬æ™ºé€‰
      <<: *zhixuan
      filter: (?i)ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png

    - name: å°æ¹¾æ™ºé€‰
      <<: *zhixuan
      filter: (?i)ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png

    - name: è‹±å›½æ™ºé€‰
      <<: *zhixuan
      filter: è‹±|ðŸ‡¬ðŸ‡§|(?i)uk|(?i)Britain|(?i)eng|ä¼¦æ•¦
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/United_Kingdom.png

    - name: ä¿„ç½—æ–¯æ™ºé€‰
      <<: *zhixuan
      filter: ä¿„|Russia Federation|Russia|RU|russia federation|russia|ru|ðŸ‡·ðŸ‡º
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Russia.png

    - name: éŸ©å›½æ™ºé€‰
      <<: *zhixuan
      filter: éŸ©|Korea|KR|korea|kr|ðŸ‡°ðŸ‡·
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png

    - name: æ³•å›½æ™ºé€‰
      <<: *zhixuan
      filter: æ³•|France|FR|france|fr|ðŸ‡«ðŸ‡·
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/France.png

    - name: å…¶ä»–åœ°åŒºæ™ºé€‰
      <<: *zhixuan
      exclude-filter: ðŸ‡­ðŸ‡°|ðŸ‡¯ðŸ‡µ|ðŸ‡ºðŸ‡¸|ðŸ‡¸ðŸ‡¬|ðŸ‡¨ðŸ‡³|ðŸ‡«ðŸ‡·|ðŸ‡°ðŸ‡·|ðŸ‡·ðŸ‡º|ðŸ‡¬ðŸ‡§|ä¸­å›½|å›½å†…|CN|China|é¦™æ¸¯|hk|fr|hongkong|å°|å°æ¹¾|TW|taiwan|æ—¥æœ¬|ä¸œäº¬|jp|Tokyo|japan|æ–°åŠ å¡|sg|Singapore|ç¾Žå›½|US|éŸ©|kr|South Korea|ä¿„|èŽ«æ–¯ç§‘|ç¾Ž|è‹±|æ³•|UK|RU|GB
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/UN.png

    - name: æ‰€æœ‰æ™ºé€‰
      <<: *zhixuan
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
    
    - name: å‰ç½®èŠ‚ç‚¹
      type: select
      proxies: ["æ‰€æœ‰æ™ºé€‰", "æ‰‹åŠ¨é€‰æ‹©", "é¦™æ¸¯æ™ºé€‰", "ç¾Žå›½æ™ºé€‰", "æ–°åŠ å¡æ™ºé€‰", "æ—¥æœ¬æ™ºé€‰", "å°æ¹¾æ™ºé€‰", "è‹±å›½æ™ºé€‰", "ä¿„ç½—æ–¯æ™ºé€‰", "éŸ©å›½æ™ºé€‰", "æ³•å›½æ™ºé€‰", "å…¶ä»–åœ°åŒºæ™ºé€‰"]
      url: https://i.ytimg.com/generate_204
      icon: https://github.com/Koolson/Qure/raw/master/IconSet/Color/Rocket.png

    - name: è½åœ°èŠ‚ç‚¹
      type: select
      icon: https://github.com/Koolson/Qure/raw/master/IconSet/Color/Domestic.png
      include-all: true
      url: https://i.ytimg.com/generate_204
      filter: ^(?!.*(DIRECT|ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªçŽ¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜Ž|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author))

    - name: é“¾å¼ä»£ç†
      type: relay
      proxies: ["å‰ç½®èŠ‚ç‚¹", "è½åœ°èŠ‚ç‚¹"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ULB.png

#è§„åˆ™é›†
guize: &guize
   type: http
   format: text
   interval: 86400
   behavior: classical

rule-providers:
    Other:
      type: file
      format: text
      behavior: classical
      path: ./rules/Other.list

    IPfake:
      <<: *guize
      url: https://raw.githubusercontent.com/SunsetMkt/anti-ip-attribution/refs/heads/main/generated/surge.list
      path: ./rules/IPfake.list

    BiliBili:
      <<: *guize
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BiliBili/BiliBili.list
      path: /rules/BiliBili.list

    China:
      <<: *guize
      url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMax/ChinaMax.list
      path: ./rules/China.list

    YouTube:
      <<: *guize
      url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/YouTube.list
      path: ./rules/YouTube.list

    TikTok:
      <<: *guize
      url: https://whatshub.top/rule/TikTok.list
      path: ./rules/TikTok.list

    Telegram:
      <<: *guize
      url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Telegram.list
      path: ./rules/Telegram.list

    Twitter:
      <<: *guize
      url: https://whatshub.top/rule/Twitter.list
      path: ./rules/Twitter.list

    AI:
      <<: *guize
      url: https://whatshub.top/rule/OpenAI.list
      path: ./rules/AI.list

    Global:
      <<: *guize
      url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Global/Global.list
      path: ./rules/Global.list

    Microsoft:
      <<: *guize
      url: https://whatshub.top/rule/Microsoft.list
      path: ./rules/Microsoft.list

    Lan:
      <<: *guize
      url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/Lan.list
      path: ./rules/Lan.list

    ProxyGFW:
      <<: *guize
      url: https://github.com/Repcz/Tool/raw/X/Clash/Rules/ProxyGFW.list
      path: ./rules/ProxyGFW.list

rules:
    - RULE-SET,Other,æ¼ç½‘ä¹‹é±¼
    - PROCESS-NAME,dnplayer.exe,å¤–ç½‘é€‰æ‹©
    - DOMAIN-SUFFIX,hjd2048.com,æ¼ç½‘ä¹‹é±¼
    - DOMAIN-SUFFIX,mypikpak.com,æ¼ç½‘ä¹‹é±¼
    - DOMAIN-SUFFIX,access.pikpakdrive.com,æ¼ç½‘ä¹‹é±¼
    - DOMAIN-KEYWORD,bigo,æ‰‹åŠ¨é€‰æ‹©
    - DOMAIN-KEYWORD,cubetecn,æ‰‹åŠ¨é€‰æ‹©
    - PROCESS-NAME,parfait_crash_handler.exe,å¤–ç½‘é€‰æ‹©
    - PROCESS-NAME,CapCut.exe,å¤–ç½‘é€‰æ‹©
    - RULE-SET,IPfake,IPå½’å±žåœ°ä¼ªè£…
    - RULE-SET,AI,Chat-GPT
    - RULE-SET,BiliBili,å“”å“©å“”å“©
    - RULE-SET,YouTube,YouTube
    - RULE-SET,Telegram,ç”µæŠ¥æ¶ˆæ¯
    - RULE-SET,Twitter,æŽ¨ç‰¹æ¶ˆæ¯
    - RULE-SET,TikTok,TikTok
    - RULE-SET,Microsoft,å¾®è½¯æœåŠ¡&GitHub
    - RULE-SET,ProxyGFW,å¤–ç½‘é€‰æ‹©
    - RULE-SET,Global,å¤–ç½‘é€‰æ‹©
    - GEOIP,lan,DIRECT
    - GEOIP,CN,DIRECT
    - RULE-SET,China,DIRECT
    - MATCH,æ¼ç½‘ä¹‹é±¼
