mixed-port: 7890
tcp-concurrent: false
allow-lan: true
ipv6: true
log-level: info
unified-delay: true
find-process-mode: strict

dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter: ['+.lan', '+.local', 'rule-set:CNSITE']
  listen: 0.0.0.0:1053
  default-nameserver: [119.29.29.29, 223.5.5.5]
  nameserver: [119.29.29.29, tls://1.1.1.1, 1.2.4.8]
  nameserver-policy:
    'rule-set:CNPro': [119.29.29.29, 52.80.66.66, 101.226.4.6]
    'rule-set:CNSITE': [52.80.66.66, 101.226.4.6, 223.5.5.5]
    'rule-set:Proxy': ["https://cloudflare-dns.com/dns-query", "https://dns.google/dns-query", "https://dns10.quad9.net/dns-query", "https://unfiltered.adguard-dns.com/dns-query"]

sniffer: { enable: true, sniff: { HTTP: { ports: [80], override-destination: true }, TLS: { ports: [443, 8443] } } }

tun:
  enable: true
  stack: mixed
  device: utun
  endpoint-independent-nat: true
  auto-route: false
  auto-detect-interface: false
  auto-redirect: false
  strict-route: false

profile:
  store-selected: true
  store-fake-ip: true
 
zhixuan: &zhixuan 
   type: fallback
   url: https://www.google.com/generate_204
   include-all: true
   interval: 600
   lazy: true

proxy-groups:

    - name: æ‰‹åŠ¨é€‰æ‹©
      type: select
      include-all: true
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bot.png
    
    - name: æ‰‹åŠ¨é€‰æ‹©II
      type: select
      include-all: true
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Airport.png

    - name: å¤–ç½‘é€‰æ‹©
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png 
    
    - name: ç”µæŠ¥æ¶ˆæ¯
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

    - name: BIGOåˆ‡æ¢
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "é£æ§å°è¯•", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº", "DIRECT"]
      icon: https://raw.githubusercontent.com/justdoiting/clash-rule/refs/heads/main/bigo%E5%9B%BE%E6%A0%87.png
 
    - name: æ¼ç½‘ä¹‹é±¼
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº", "DIRECT"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png

    - name: YouTube
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png

    - name: æ¨ç‰¹æ¶ˆæ¯
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png

    - name: AIå¹³å°
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/OpenAI.png

    - name: TikTok
      type: select
      proxies: ["éšæœºèŠ‚ç‚¹", "æ‰‹åŠ¨é€‰æ‹©", "æ‰‹åŠ¨é€‰æ‹©II", "é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº", "é£æ§å°è¯•"]
      icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/TikTok.png

    - name: é¦™æ¸¯èŠ‚ç‚¹
      <<: *zhixuan
      filter: (?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)
      icon: https://flagcdn.com/hk.svg

    - name: å°æ¹¾èŠ‚ç‚¹
      <<: *zhixuan
      filter: (?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)
      icon: https://flagcdn.com/tw.svg

    - name: æ—¥æœ¬èŠ‚ç‚¹
      <<: *zhixuan
      filter: (?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b)
      icon: https://flagcdn.com/jp.svg

    - name: å…¶ä»–åœ°åŒº
      <<: *zhixuan
      exclude-filter: (?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)|(?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)|(?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/World_Map.png
      
    - name: ä½å€ç‡èŠ‚ç‚¹
      <<: *zhixuan
      filter: (?i)(?:^|[^0-9])(?:[0o]\.[0-9]+|[0o]\.[â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰]+|[0o][xXâ‚“]|x[0o](?:\.[0-9]+)?|X[0o](?:\.[0-9]+)?|x[â‚€â°](?:\.[â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰]+)?|X[â‚€â°](?:\.[â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰]+)?|â°[Ë™\.]?[â°Â¹Â²Â³â´âµâ¶â·â¸â¹]+|Ë£[â°Ë™\.]?[â°Â¹Â²Â³â´âµâ¶â·â¸â¹]+)(?!\d)
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Dark/x0.png

    - name: éšæœºèŠ‚ç‚¹
      type: fallback
      url: https://www.gstatic.com/generate_204
      interval: 300
      timeout: 1500
      lazy: true
      proxies: ["é¦™æ¸¯èŠ‚ç‚¹", "å°æ¹¾èŠ‚ç‚¹", "æ—¥æœ¬èŠ‚ç‚¹", "å…¶ä»–åœ°åŒº"]
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Loop.png

    - name: é£æ§å°è¯•
      type: load-balance
      include-all: true
      url: https://www.tiktok.com
      interval: 888
      timeout: 1500
      lazy: true
      strategy: consistent-hashing
      expected-status: 200/302
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png

guize: &guize
   type: http
   format: text
   interval: 86400
   behavior: classical

rule-providers:

    ZL:
      type: file
      format: text
      behavior: classical
      path: ./rules/ZL.list

    CNASN:
      <<: *guize
      url: https://raw.githubusercontent.com/skyrocketingHong/ASN-China/refs/heads/main/ASN.China.list
      path: ./rules/CNASN.yaml

    YouTube:
      <<: *guize
      url: https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/mihomo/Rules/YouTube.list
      path: ./rules/YouTube.yaml

    TikTok:
      <<: *guize
      url: https://whatshub.top/rule/TikTok.list
      path: ./rules/TikTok.yaml

    Telegram:
      <<: *guize
      url: https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/mihomo/Rules/Telegram.list
      path: ./rules/Telegram.yaml

    Twitter:
      <<: *guize
      url: https://whatshub.top/rule/Twitter.list
      path: ./rules/Twitter.yaml

    AI:
      <<: *guize
      url: https://raw.githubusercontent.com/fmz200/wool_scripts/main/Loon/rule/AI.list
      path: ./rules/AI.yaml

    Lan:
      <<: *guize
      url: https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/mihomo/Rules/Lan.list
      path: ./rules/Lan.yaml

    CNIP:
      type: http
      format: mrs
      behavior: ipcidr
      url: https://github.com/Kwisma/ASN-List/raw/refs/heads/main/country/CN/CN_IP.mrs
      interval: 86400
      path: ./rules/IPCN.mrs

    CNSITE:
      type: http
      format: mrs
      behavior: domain
      url: https://static-file-global.353355.xyz/rules/cn-additional-list.mrs
      interval: 86400
      path: ./rules/CNSITE.mrs
      
    CNPro:
      type: http
      format: mrs
      behavior: domain
      url: https://github.com/Ryucmd/mihomo-rule/raw/refs/heads/main/Direct_Mihomo.mrs
      interval: 86400
      path: ./rules/CNPro.mrs

    Proxy:
      type: http
      format: mrs
      behavior: domain
      url: https://github.com/Ryucmd/mihomo-rule/raw/refs/heads/main/Proxy_Mihomo.mrs
      interval: 86400
      path: ./rules/Proxy.mrs

rules:
    - RULE-SET,ZL,DIRECT
    - RULE-SET,Lan,DIRECT,no-resolve
    - DOMAIN-KEYWORD,sooplive,DIRECT
    - DOMAIN-KEYWORD,cubetvgame,BIGOåˆ‡æ¢
    - DOMAIN-KEYWORD,bigo,BIGOåˆ‡æ¢
    - DOMAIN-KEYWORD,cubetecn,BIGOåˆ‡æ¢
    - RULE-SET,AI,AIå¹³å°
    - RULE-SET,YouTube,YouTube
    - RULE-SET,Telegram,ç”µæŠ¥æ¶ˆæ¯
    - RULE-SET,Twitter,æ¨ç‰¹æ¶ˆæ¯
    - RULE-SET,TikTok,TikTok
    - RULE-SET,Proxy,å¤–ç½‘é€‰æ‹©
    - RULE-SET,CNSITE,DIRECT
    - RULE-SET,CNPro,DIRECT
    - RULE-SET,CNIP,DIRECT
    - GEOIP,CN,DIRECT
    - RULE-SET,CNASN,DIRECT   
    - MATCH,æ¼ç½‘ä¹‹é±¼
